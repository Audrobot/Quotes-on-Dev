!function(e){e("#new-quote-button").on("click",function(t){t.preventDefault(),e.ajax({url:"/quotes_on_dev/wp-json/wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",success:function(t){var o=t.shift();e(".entry-content").html(o.content.rendered),e(".entry-title").html("&mdash; "+o.title.rendered),""!==o._qod_quote_source&&""!==o._qod_quote_source_url?e(".source").html(', <a href="'+o._qod_quote_source_url+'">'+o._qod_quote_source+"</a>"):""!==o._qod_quote_source?e(".source").text(", "+o._qod_quote_source):e(".source").text(""),history.pushState(null,null,o.link),console.log(o.link)}})}),e(window).on("popstate",function(){if(1===window.location.hash.indexOf("qm-overview"))return!1;window.location.replace("")}),e("#submit-quote").on("click",function(t){t.preventDefault();var o=e("#quote-author").val(),u=e("#quote-content").val(),r=e("#quote-source").val(),n=e("#quote-source-url").val();e.ajax({method:"post",url:api_vars.root_url+"wp/v2/posts/",data:{title:o,content:u,_qod_quote_source:r,_qod_quote_source_url:n,status:"publish"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.nonce)}}).done(function(){e("#submit-quote").after("<p>"+api_vars.success+"</p>"),e("#submit-quote").trigger("reset")}).always(function(){e("#quote-submission-form").trigger("reset")}).fail(function(){e("#submit-quote").after("<p>"+api_vars.failure+"</p>")})})}(jQuery);